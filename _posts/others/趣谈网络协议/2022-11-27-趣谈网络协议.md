---
layout: post
title: 趣谈网络协议-学习
date: 2022-11-27 21:58:35.000000000 +08:00
tags: [Learn, https ]
---

## 第1讲

数据包由源主机发到网关（路由器）， 网关收到包之后，时怎么讲数据发到目标服务器的，中间的链路是怎样的？

主机根本不需要知道对端在哪里。主机发包相当于写了封信，信封上有地址。他只需要找到邮递员，邮递员会通过邮政系统把这封信一站一站转到对端去。找邮递员就是找自己的网关，这个可以通过手工配置，也可以通过dhcp协议自动获得。ip包里面的ip包头就是信封了，上面写了收件人ip和发件人ipover还想知道邮政系统怎么工作的？那是另一个问题了。每个路由器里面有一个表，会根据目标地址或者目标网段配置下一站。每个路由器都只管下一站，一站站投递到目标。网址和网段你这样理解：网段就类似于国家省市县镇村。一级级上去，一级级下来。当然也有近道，比如张家口虽然是河北的，但北京发往张家口的信也不需要经过石家庄中转。用邮政系统类比ip通信还是非常适合的。现在就聊到下一站的那个表怎么来的了。可以手工指定，也可以通过相互了解获得距离关系来确定。这种相互了解的事情就是路由协议。

作者：知乎用户
链接：https://www.zhihu.com/question/39331363/answer/88735404
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

## 第3讲

1. 为什么A类IP地址的最大主机数为16777214？

一个A类IP地址是指， 在IP地址的四段号码中，第一段号码为网络号码，剩下的三段号码为本地计算机的号码。如果用二进制表示IP地址的话，A类IP地址就由1字节的网络地址和3字节主机地址组成，网络地址的最高位必须是“0”。A类IP地址中网络的标识长度为8位，主机标识的长度为24位，A类网络地址数量较少，有126个网络，每个网络可以容纳主机数达1600多万台。

A类IP地址 地址范围1.0.0.0到127.255.255.255[1]  （二进制表示为：00000001 00000000 00000000 00000000 - 01111110 11111111 11111111 11111111）。最后一个是广播地址。

A类IP地址的子网掩码为255.0.0.0，每个网络支持的最大主机数为256的3次方-2=16777214台。

https://cloud.tencent.com/developer/article/1679735

2. B、C、D类IP地址的最大主机数

同理

B类IP地址

一个B类IP地址是指，在IP地址的四段号码中，前两段号码为网络号码。如果用二进制表示IP地址的话，B类IP地址就由2字节的网络地址和2字节主机地址组成，网络地址的最高位必须是“10”。B类IP地址中网络的标识长度为16位，主机标识的长度为16位，B类网络地址适用于中等规模的网络，有16384个网络，每个网络所能容纳的计算机数为6万多台。

B类IP地址地址范围128.0.0.0-191.255.255.255[3]  （二进制表示为：10000000 00000000 00000000 00000000----10111111 11111111 11111111 11111111）。 最后一个是广播地址。

B类IP地址的子网掩码为255.255.0.0，每个网络支持的最大主机数为256的2次方-2=65534台。

C类IP地址

一个C类IP地址是指，在IP地址的四段号码中，前三段号码为网络号码，剩下的一段号码为本地计算机的号码。如果用二进制表示IP地址的话，C类IP地址就由3字节的网络地址和1字节主机地址组成，网络地址的最高位必须是“110”。C类IP地址中网络的标识长度为24位，主机标识的长度为8位，C类网络地址数量较多，有209万余个网络。适用于小规模的局域网络，每个网络最多只能包含254台计算机。

C类IP地址范围192.0.0.0-223.255.255.255[3]  （二进制表示为: 11000000 00000000 00000000 00000000 - 11011111 11111111 11111111 11111111）。

C类IP地址的子网掩码为255.255.255.0，每个网络支持的最大主机数为256-2=254台

D类IP地址

D类IP地址在历史上被叫做多播地址(multicast address)，即组播地址。在以太网中，多播地址命名了一组应该在这个网络中应用接收到一个分组的站点。多播地址的最高位必须是“1110”，范围从224.0.0.0到239.255.255.255。

特殊的网址

每一个字节都为0的地址（“0.0.0.0”）对应于当前主机；
IP地址中的每一个字节都为1的IP地址（“255．255．255．255”）是当前子网的广播地址；
IP地址中凡是以“11110”开头的E类IP地址都保留用于将来和实验使用。
IP地址中不能以十进制“127”作为开头，该类地址中数字127．0．0．1到127．255．255．255用于回路测试，如：127.0.0.1可以代表本机IP地址，用“http://127.0.0.1”就可以测试本机中配置的Web服务器。
网络ID的第一个8位组也不能全置为“0”，全“0”表示本地网络。